---
import { getCollection } from 'astro:content';
import ProjectItem from './ProjectItem.astro';

// Obtener todos los proyectos
const allProjects = await getCollection('Projects');

// Ordenar proyectos por fecha (mÃ¡s recientes primero)
const sortedProjects = allProjects.sort((a, b) => {
  return new Date(b.data.startDate).getTime() - new Date(a.data.startDate).getTime();
});
---

<section class="projects-container w-full max-w-6xl mx-auto px-4 py-8">
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {sortedProjects.map((project) => (
      <ProjectItem project={project} />
    ))}
  </div>
</section>

<style>
  .projects-container {
    animation: fadeIn 0.5s ease-in;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
