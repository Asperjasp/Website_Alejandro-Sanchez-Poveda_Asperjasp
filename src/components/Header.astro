---
import Violin from "./Icons/Violin.astro";
import LanguageToggle from "./LanguageToggle.astro";

const currentPath = Astro.url.pathname;

// Función para determinar si un link está activo
const isActive = (path: string) => {
  if (path === '/') {
    return currentPath === '/';
  }
  return currentPath.startsWith(path);
};
---

<header class="flex justify-between items-center py-4 px-4 w-full bg-gray-950 sticky top-0 z-50 border-b border-slate-800">
  <!-- Logo/Brand with violin icon -->
  <a href="/" class="brand-link flex items-center gap-2">
    <Violin size={18} class="brand-violin" />
    <span class="brand-name">ASP</span>
  </a>

  <!-- Navigation -->
  <nav class="flex flex-row gap-x-2 text-white">
    <a 
      class={`nav-link ${isActive('/') ? 'active' : ''}`} 
      href="/"
    >
      Inicio
    </a>
    <a 
      class={`nav-link ${isActive('/about') ? 'active' : ''}`} 
      href="/about"
    >
      Acerca de
    </a>
    <a 
      class={`nav-link ${isActive('/projects') ? 'active' : ''}`} 
      href="/projects"
    >
      Proyectos
    </a>
    <a 
      class={`nav-link ${isActive('/contact') ? 'active' : ''}`} 
      href="/contact"
    >
      Contacto
    </a>
  </nav>

  <!-- Language toggle -->
  <LanguageToggle />
</header>

<style>
  .brand-link {
    text-decoration: none;
    color: #e2e8f0;
    transition: all 0.2s ease;
  }

  .brand-link:hover {
    color: #3b82f6;
  }

  .brand-link:hover .brand-violin {
    color: #60a5fa;
  }

  .brand-violin {
    color: #94a3b8;
    transition: color 0.2s ease;
  }

  .brand-name {
    font-weight: 700;
    font-size: 1.1rem;
    letter-spacing: 0.05em;
  }

  @media (max-width: 768px) {
    header {
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    nav {
      order: 3;
      width: 100%;
      justify-content: center;
      flex-wrap: wrap;
    }
  }
</style>
  