---
interface Props {
  project: any;
}

const { project } = Astro.props;
const { title, description, thumbnail, technologies, status, featured } = project.data;
const projectSlug = project.id.replace('.md', '');
---

<article class="project-card group">
  <a href={`/projects/${projectSlug}`} class="block no-underline">
    <div class="project-thumbnail mb-4 overflow-hidden rounded-lg">
      <img 
        src={thumbnail.url} 
        alt={thumbnail.alt}
        class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-110"
      />
    </div>

    <div class="project-content">
      <div class="flex items-center justify-between mb-2">
        <h3 class="text-xl font-bold text-white group-hover:text-blue-400 transition-colors">
          {title}
        </h3>
      </div>

      <p class="text-slate-300 text-sm mb-4 line-clamp-3">
        {description}
      </p>

      <!-- Espaciador flexible para empujar el pie de tarjeta al fondo -->
      <div style="flex:1"></div>

      <div class="flex items-center justify-between bottom-row">
        <span class={`text-xs font-medium px-2 py-1 rounded ${
          status === 'completed' ? 'bg-green-900/30 text-green-400' :
          status === 'in-progress' ? 'bg-blue-900/30 text-blue-400' :
          'bg-gray-900/30 text-gray-400'
        }`}>
          {status === 'completed' ? 'Completado' : 
           status === 'in-progress' ? 'En progreso' : 
           'Archivado'}
        </span>

        <span class="text-slate-400 text-sm font-medium group-hover:text-slate-200 transition-transform inline-block">
          Ver más →
        </span>
      </div>
    </div>
  </a>
</article>

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Ajustes para que las tarjetas tengan altura uniforme */
  .project-card {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .project-card > a {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .project-content {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
  }

  .bottom-row {
    margin-top: 0.5rem;
  }
</style>
